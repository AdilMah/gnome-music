#!/usr/bin/env python3

import sys
import signal
from gi.repository import Gio
sys.path.insert(1, '@pythondir@')

from gnomemusic.application import Application

if __name__ == "__main__":
    from gi.repository import GIRepository
    GIRepository.Repository.prepend_search_path('@libdir@/gnome-music/girepository-1.0')

    resource = Gio.resource_load("data/gnome-music.gresource")
    Gio.Resource._register(resource)

    app = Application()
    signal.signal(signal.SIGINT, signal.SIG_DFL)
    app.run(sys.argv)
